---
import SectionTitle from "./SectionTitle.astro";
import { project } from "../data/projects.ts";
import { Image } from "astro:assets";
import technologies from "../data/technologies.json";
import { Icon } from "astro-icon/components";

const classTech =
{
    'astro': 'bg-astro/20 border-astro',
    'react': 'bg-react/20 border-react',
    'tailwindcss': 'bg-tailwindcss/20 border-tailwindcss',
}
---

<section class="scroll-mt-header space-y-4" id="proyectos">
    <SectionTitle title="Proyectos" />
    <div class="space-y-2">
        <header>
            <a href={project.url} target="_blank" class="text-xl leading-none font-semibold text-light-1">{project.name}</a>
            <p class="text-light-2">{project.description}</p>
        </header>
        <Image src={project.image} alt={project.name}   transition:name="hero"/>
        <footer class="flex gap-4">
            {
                project.technologies.map((tech) => (
                    <div class:list={["px-3 py-1 rounded-full text-sm mr-2 border", classTech[tech as keyof typeof classTech] ]}>
                        <Icon name={technologies.filter((t) => t.id === tech)[0].icon} class="w-4 h-4 inline-block mr-1" />
                        {technologies.filter((t) => t.id === tech)[0].name}
                    </div>
                ))
            }
        </footer>
    </div>
</section>