---
import SectionTitle from './SectionTitle.astro';
import { project } from '../data/projects.ts';
import { Image } from 'astro:assets';
import technologies from '../data/technologies.json';
import { Icon } from 'astro-icon/components';

const classTech = {
  astro: 'bg-astro/20 border-astro',
  react: 'bg-react/20 border-react',
  tailwindcss: 'bg-tailwindcss/20 border-tailwindcss',
};
---

<section class='scroll-mt-header space-y-4' id='proyectos'>
  <SectionTitle title='Proyectos' />
  <div class='space-y-2'>
    <header>
      <a href={project.url} target='_blank' class='text-xl font-semibold leading-none text-light-1'
        >{project.name}</a
      >
      <p class='text-light-2'>{project.description}</p>
    </header>
    <Image src={project.image} alt={project.name} transition:name='hero' />
    <footer class='flex flex-wrap gap-x-4 gap-y-3'>
      {
        project.technologies.map(tech => (
          <div
            class:list={[
              'mr-2 rounded-full border px-3 py-1 text-sm',
              classTech[tech as keyof typeof classTech],
            ]}
          >
            <Icon
              name={technologies.filter(t => t.id === tech)[0].icon}
              class='mr-1 inline-block h-4 w-4'
            />
            {technologies.filter(t => t.id === tech)[0].name}
          </div>
        ))
      }
    </footer>
  </div>
</section>
